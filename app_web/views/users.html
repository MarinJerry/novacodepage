<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>Control de Accesos</h2>
        <ol class="breadcrumb">
            <li>
                <a href="index.html">Inicio</a>
            </li>
            <li>
                <a>Seguridad</a>
            </li>
            <li class="active">
                <strong>Accesos</strong>
            </li>
        </ol>
    </div>
    <div class="col-lg-2">

    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight" ng-controller="SecurityCtrl" ng-init="Inicializar()">
    <div class="row" ng-controller="datatablesCtrl" ng-show="registros">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5> <strong> Registro de Usuarios </strong></h5>
                    
                    <div class="ibox-tools" uib-dropdown>
                        <a href uib-dropdown-toggle>
                            <i class="fa fa-wrench"></i>
                        </a>
                        <ul uib-dropdown-menu>
                            <li><a href ng-click="vernuevo()"><i class="fa fa-plus"></i> Agregar Usuario</a>
                            </li>
                            <li><a href ng-click="Inicializar()"><i class="fa fa-refresh"></i> Refrescar Lista</a>
                            </li>
                        </ul>
                    </div>
                    <!-- <div ibox-tools></div> -->
                </div>
                <div class="ibox-content">
                    <div class="table-responsive">
                        <table datatable="ng" dt-options="dtOptions"  class="table table-striped table-bordered table-hover dataTables-example table-responsive">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Fecha Creación</th>
                                <th>Usuario</th>
                                <th>Permisos</th>
                                <th>Estado</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="user in users">
                                <td>{{ user.id }}</td>
                                <td>{{ user.name }}</td>
                                <td>{{ user.created_at }}</td>
                                <td>{{ user.user }}</td>
                                <td>{{ user.profile_name }}</td>
                                <td class="text-center">
                                    <p ng-show="user.enabled"><span class="badge badge-info">Activo</span></p>
                                    <p ng-show="!user.enabled"><span class="badge badge-warning">Inactivo</span></p>
                                </td>
                                <td class="text-center"> 
                                    <!-- <button type="button" class="btn btn-xs btn-primary" ng-click="verActualizar(user)"><i class="fa fa-edit"></i></button> -->
                                    <button type="button" class="btn btn-circle btn-xs btn-danger" ng-click="deleteUsuario(user.id)"><i class="fa fa-trash"></i></button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>

    <div class="row" ng-show="nuevo">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Registrar usuario a plataforma
                        <small>Crear un nuevo acceso</small>
                    </h5>
                    
                </div>
                <div class="ibox-content">
                    <div class="row">
                        <div class="col-sm-4 b-r"><h3 class="m-t-none m-b">Acceso a Plataforma - Agregar usuario</h3>

                            <p>*Complete la información requerida para agregar un usuario.</p>

                            <form role="form">
                                <div class="form-group">
                                    <label>Nombre Completo</label> 
                                        <input type="text"
                                                placeholder="Escriba el nombre del usuario"
                                                class="form-control"
                                                ng-model="oUser.name">
                                </div>
                                <div class="form-group">
                                    <label>Usuario</label> 
                                        <input type="text"
                                                placeholder="Usuario de acceso"
                                                class="form-control"
                                                ng-model="oUser.user">
                                </div>
                            </form>
                        </div>
                        <div class="col-sm-4 b-r">
                            <form role="form">
                                <div class="form-group">
                                    <label>Contraseña</label>
                                    <input type="text"
                                            placeholder="********"
                                            class="form-control"
                                            ng-model="oUser.password">
                                </div>  
                                <div class="form-group"><label>Confirmar Contraseña</label> 
                                    <input type="text"
                                            placeholder="********"
                                            class="form-control"
                                            ng-model="passwordcheck"></div>
                                <div class="form-group"><label>Perfil</label>
                                    <select class="form-control input-sm" ng-model="oUser.profile_id">
                                        <option value="1">Administrador(a)</option>
                                        <option value="2">Junta Directiva</option>
                                        <option value="3">Consejo Electoral</option>
                                        <option value="4">Moderador(a)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label> <input icheck type="checkbox" ng-model="oUser.enabled"> Activar usuario </label>
                                </div>
                            </form>
                        </div>
                        <div class="col-sm-4"><h4></h4>

                            <p>Al crear el usuario podrá acceder a la pataforma con sus credenciales:</p>

                            <p class="text-center">
                                <a href=""><i class="fa fa-sign-in big-icon"></i></a>
                            </p>
                            <div class="row">
                                <div class="col-lg-6 text-center">
                                    <button class="btn btn-sm btn-danger m-t-n-xs" type="button" ng-click="Inicializar()"><strong>Cancelar</strong></button>
                                </div>
                                <div class="col-lg-6 text-center">
                                    <button class="btn btn-sm btn-success m-t-n-xs" type="button" ng-click="crearUser()"><strong>Guardar</strong></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>